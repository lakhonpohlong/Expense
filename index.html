<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Expense Tracker</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>

<body>
  <!-- Light Navbar -->
  <nav class="navbar-custom">
    <div class="container">
      <a class="nav-item active" href="#" id="homeNav" onclick="showSection('home','homeNav')">Home</a>
      <a class="nav-item" href="#" id="profileNav" onclick="showSection('profile','profileNav')">Profile</a>
      <a class="nav-item" href="#" id="credit-cardNav" onclick="showSection('credit-card','credit-cardNav')">Card</a>
      <a class="nav-item" id="transactionNav" onclick="showSection('transaction','transactionNav')">Transaction</a>
      <a class="nav-item" id="settingNav" href="#" onclick="showSection('setting','settingNav')">Setting</a>
    </div>
  </nav>
  <main class="container2">
    <section id="home" class="section active">
      <div class="titleHead">Credit Card Details</div>
      <div class="columns is-mobile is-multiline" id="dashboard-content">
      </div>
    </section> <!-- start profile section -->
    <section id="profile" class="section">
      <div class="is-flex is-flex-row is-justify-content-space-between">
        <div class="titleHead">Profile List</div>
        <button class="button modal-button" id="addBtn" data-modal="profile-modal"><i class="fas fa-plus"></i>
          <span class="pl-1">Add Profile</span>
        </button>
      </div>
      <table class="table is-striped is-hoverable is-fullwidth">
        <thead>
          <tr>
            <th>Full Name</th>
            <th>Salary</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="profile-table">
        </tbody>
      </table>
    </section>

    <section id="credit-card" class="section">
      <div class="is-flex is-flex-row is-justify-content-space-between">
        <div class="titleHead">Credit Card List</div>
        <button class="button modal-button" id="addBtn" data-modal="credit-card-modal"><i class="fas fa-plus"></i>
          <span class="pl-1">Add New</span>
        </button>
      </div>
      <table class="table is-striped is-hoverable">
        <thead>
          <tr>
            <th class="is-size-7-mobile">Card</th>
            <th class="is-size-7-mobile">Limit</th>
            <th class="is-size-7-mobile">Utilized</th>
            <th class="is-size-7-mobile">Rem.</th>
            <th class="is-size-7-mobile">Actions</th>
          </tr>
        </thead>
        <tbody id="credit-card-table">
        </tbody>
      </table>
    </section>
    <!-- transaction section -->
    <section id="transaction" class="section">
      <!-- <div class="box" id="transaction-list">
        Transactions will be dynamically inserted here -->
      <div class="container">
        <div class="top-container">
          <h1 class="title is-size-6">Transaction History</h1>

          <!-- Filter Button -->
          <div class="filter-btn-container">
            <div class="control has-icons-left">
              <input class="input is-rounded is-small" id="searchInput" type="text" onkeyup="searchTransaction()"
                placeholder="Search...">
              <span class="icon is-small is-left">
                <i class="fas fa-search"></i>
              </span>
              <span class="icon is-small is-right">
                <i class="fas fa-times clear-icon"></i>
              </span>
            </div>
            <button class="button is-info is-small" id="reloadBtn"><span><i class="fas fa-sync"></i></span></button>
            <button class="button is-info is-small" id="addTransactionBtn"
              onclick="showSection('addTransaction','transactionNav')"><span><i class="fas fa-plus"></i></span>
            </button>
            <button class="button is-info is-small" id="openFilterBtn"><span><i
                  class="fas fa-filter"></i></span></button>
          </div>
        </div>
        <!-- Transaction Cards -->
        <div id="transactions"></div>
      </div>
      </div>
      <div class="pagination-controls" id="pagination-controls">
        <!-- Pagination buttons will be dynamically inserted here -->
      </div>
    </section>
    <section id="addTransaction" class="section">
      <div class="container">
        <div class="brand">
          <h3 class="title-container">Expense Tracker</h3>
          <p>Record your Transaction here</p>
        </div>
        <form id="transaction-form">
          <!-- Date Selection -->
          <div class="section-container">
            <label class="label-container" for="date-picker">Transaction Date:</label>
            <input type="date" id="date-picker" class="input is-small">
          </div>

          <!-- Bank Selection -->
          <div class="section-container">
            <label class="label-container">Select Payment Card:</label>
            <div class="button-container" id="bankSet">

            </div>
          </div>

          <!-- Category Selection -->
          <div class="section-container">
            <label class="label-container">Choose Expense Category:</label>
            <div class="button-container" id="categorySet">

            </div>
          </div>

          <!-- Enter Item Field -->
          <div class="section-container">
            <label class="label-container" for="item-input">Enter Item:</label>
            <div class="label-container"></div>
            <input type="text" id="item-input" class="input is-small" placeholder="Enter item name">
          </div>

          <!-- Enter Amount Field -->
          <div class="section-container">
            <label class="label-container" for="amount-input">Enter Amount:</label>
            <div class="label-container"></div> <input type="number" id="amount-input" class="input is-small"
              placeholder="Enter amount">
          </div>

          <!-- Form Buttons -->
          <div class="form-buttons">

            <button type="button" id="submitBtn" class="button is-success" onclick="submitForm(event)">Submit</button>
            <button type="button" id="resetBttn" class="button is-danger" onclick="resetForm()">Reset</button>
          </div>
          <!-- Feedback Message -->
          <p id="feedback-message"
            style="display: none; color: green; font-weight: bold; text-align: center; margin-top: 10px;font-size:12px">
          </p>
        </form>
      </div>
    </section>
    <section id="setting" class="section">
      <h2 class="title">Setting</h2>
      <div id="googleLogin"></div>
      <p id="email">Your email will appear here after login.</p>
      <button id="logoutBtn" style="display: none;" onclick="logout()">Logout</button>
    </section>
  </main> <!-- Modals -->

  <!-- Modal -->
  <div class="modal" id="profile-modal">
    <div class="modal-background"></div>
    <div class="modal-card">
      <header class="modal-card-head">
        <p class="modal-card-title is-size-5">Profile Form</p>
        <button class="delete" aria-label="close" data-close="profile-modal"></button>
      </header>
      <section class="modal-card-body">
        <!-- Profile Form -->
        <form id="profile-form">
          <label>Full Name:</label>
          <input type="text" class="input" name="Full Name" id="profile-fullname" required>
          <label>Salary:</label>
          <input type="number" class="input" name="Salary" id="profile-salary" required>
        </form>
      </section>
      <footer class="modal-card-foot">
        <button class="button is-success" type="submit" id="saveProfileButton" form="profile-form">Submit</button>
        <button class="button is-warning" type="reset" id="resetForm">Reset</button>
        <button class="button" data-close="profile-modal" id="closeModalFooter">Close</button>
      </footer>
    </div>
  </div>
  <!-- Credit Card Modal -->
  <div class="modal" id="credit-card-modal">
    <div class="modal-background"></div>
    <div class="modal-card">
      <header class="modal-card-head">
        <p class="modal-card-title is-size-5">Add Credit Card</p>
        <button class="delete" aria-label="close" data-close="credit-card-modal"></button>
      </header>
      <section class="modal-card-body">
        <form id="credit-card-form">
          <div id="creditCardMessageBox" class="notify-msg error">success</div>


          <label class="label" for="card-number">Card Number</label>
          <div class="field has-addons">
            <p>
              <input class="input" type="text" value="XXXX-XXXX-XXXX-" disabled>
            </p>
            <p class="control">
              <input class="input" type="number" id="cardLast4" name="cardNumber" id="card-number" maxlength="4"
                width="12rem" pattern="\d{4}" required placeholder="XXXX">
            </p>
          </div>

          <div class="field">
            <label class="label" for="bank-name">Bank Name</label>
            <div class="control">
              <div class="select">
                <select id="bank-name" name="bankName" required>
                  <option value="" disabled selected>Select Bank</option>
                  <option value="SBI">SBI</option>
                  <option value="AXIS">AXIS</option>
                  <option value="HDFC">HDFC</option>
                  <option value="ICICI">ICICI</option>
                </select>
              </div>
            </div>
          </div>

          <div class="field">
            <label class="label" for="card-limit">Limit</label>
            <div class="control">
              <input class="input" type="number" id="card-limit" name="cardLimit" placeholder="Enter limit" required />
            </div>
          </div>
        </form>
      </section>
      <footer class="modal-card-foot">
        <button type="submit" class="button is-primary" form="credit-card-form"
          id="saveCreditCardButton">Submit</button>
        <button class="button is-warning" type="reset" form="credit-card-form">Reset</button>
        <button class="button" data-close="credit-card-modal">Cancel</button>
      </footer>
    </div>
  </div>

  <!-- Filter Modal (Bulma modal structure) -->
  <div class="modal" id="filterModal">
    <div class="modal-background"></div>
    <div class="modal-card">

      <header class="modal-card-head">
        <p class="modal-card-title">Filter by</p>
        <button class="delete" id="closeModalBtn" aria-label="close"></button>
      </header>

      <section class="modal-card-body">
        <!-- Filter Content integrated inside modal -->
        <div class="filter-container">
          <!-- Left Side: Filter Options -->
          <div class="filter-options">
            <ul id="filterOptions">
              <li data-type="cards" class="active">Payment Source</li>
              <li data-type="daterange">Date range</li>
              <li data-type="category">Category</li>
            </ul>
          </div>
          <!-- Right Side: Filter Data Panels -->
          <div class="filter-data" id="filterData">
            <!-- Cards Panel -->
            <div id="panel-card" class="filter-panel active">

            </div>

            <!-- Date Range Panel -->
            <div id="panel-daterange" class="filter-panel">
              <div class="field">
                <input type="date" name="dateFrom" id="dateFrom" class="input is-small" placeholder="From Date">
              </div>
              <div class="field">
                <input type="date" name="dateTo" id="dateTo" class="input is-small" placeholder="To Date">
              </div>
            </div>

            <!-- Category Panel -->
            <div id="panel-category" class="filter-panel">
            </div>
          </div>
        </div>
      </section>

      <footer class="modal-card-foot">
        <button id="clearAllBtn" class="button">Clear All</button>
        <button id="applyFilterBtn" class="button is-info" onclick="searchTransactionB()">Apply</button>
        <button id="cancelModalBtn" class="button">Cancel</button>
      </footer>

    </div>
  </div>
  <script src="config.js"></script>
  <script src="script.js"></script>
</body>

</html>